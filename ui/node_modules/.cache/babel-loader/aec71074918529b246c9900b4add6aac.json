{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ApolloServerPluginLandingPageProductionDefault = exports.ApolloServerPluginLandingPageLocalDefault = void 0;\n\nfunction ApolloServerPluginLandingPageLocalDefault() {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n    version,\n    __internal_apolloStudioEnv__,\n    footer,\n    ...rest\n  } = options;\n  return ApolloServerPluginLandingPageDefault(version, encodeConfig({\n    isProd: false,\n    apolloStudioEnv: __internal_apolloStudioEnv__,\n    footer,\n    ...rest\n  }));\n}\n\nexports.ApolloServerPluginLandingPageLocalDefault = ApolloServerPluginLandingPageLocalDefault;\n\nfunction ApolloServerPluginLandingPageProductionDefault() {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n    version,\n    __internal_apolloStudioEnv__,\n    footer,\n    graphRef,\n    ...rest\n  } = options;\n  return ApolloServerPluginLandingPageDefault(version, encodeConfig({\n    isProd: true,\n    apolloStudioEnv: __internal_apolloStudioEnv__,\n    footer,\n    graphRef,\n    ...rest\n  }));\n}\n\nexports.ApolloServerPluginLandingPageProductionDefault = ApolloServerPluginLandingPageProductionDefault;\n\nfunction encodeConfig(config) {\n  return JSON.stringify(encodeURIComponent(JSON.stringify(config)));\n}\n\nfunction ApolloServerPluginLandingPageDefault(maybeVersion, encodedConfig) {\n  const version = maybeVersion !== null && maybeVersion !== void 0 ? maybeVersion : '_latest';\n  return {\n    __internal_installed_implicitly__: false,\n\n    async serverWillStart() {\n      return {\n        async renderLandingPage() {\n          const html = `\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <link\n      rel=\"icon\"\n      href=\"https://apollo-server-landing-page.cdn.apollographql.com/${version}/assets/favicon.png\"\n    />\n    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" />\n    <link\n      href=\"https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap\"\n      rel=\"stylesheet\"\n    />\n    <meta name=\"theme-color\" content=\"#000000\" />\n    <meta name=\"description\" content=\"Apollo server landing page\" />\n    <link\n      rel=\"apple-touch-icon\"\n      href=\"https://apollo-server-landing-page.cdn.apollographql.com/${version}/assets/favicon.png\"\n    />\n    <link\n      rel=\"manifest\"\n      href=\"https://apollo-server-landing-page.cdn.apollographql.com/${version}/manifest.json\"\n    />\n    <title>Apollo Server</title>\n  </head>\n  <body style=\"margin: 0; overflow-x: hidden; overflow-y: hidden\">\n    <noscript>You need to enable JavaScript to run this app.</noscript>\n    <div id=\"react-root\">\n      <style>\n        .fallback {\n          opacity: 0;\n          animation: fadeIn 1s 1s;\n          animation-iteration-count: 1;\n          animation-fill-mode: forwards;\n          padding: 1em;\n        }\n        @keyframes fadeIn {\n          0% {opacity:0;}\n          100% {opacity:1; }\n        }\n      </style>\n      <div class=\"fallback\">\n        <h1>Welcome to Apollo Server</h1>\n        <p>It appears that you might be offline. POST to this endpoint to query your graph:</p>\n        <code style=\"white-space: pre;\">\ncurl --request POST \\\\\n  --header 'content-type: application/json' \\\\\n  --url '<script>document.write(window.location.href)</script>' \\\\\n  --data '{\"query\":\"query { __typename }\"}'</code>\n      </div>\n    </div>\n    <script>window.landingPage = ${encodedConfig};</script>\n    <script src=\"https://apollo-server-landing-page.cdn.apollographql.com/${version}/static/js/main.js\"></script>\n  </body>\n</html>\n          `;\n          return {\n            html\n          };\n        }\n\n      };\n    }\n\n  };\n}","map":{"version":3,"sources":["../../../../src/plugin/landingPage/default/index.ts"],"names":[],"mappings":";;;;;;;AAoDA,SAAgB,yCAAhB,GACgE;AAAA,MAA9D,OAA8D,uEAAF,EAAE;AAK9D,QAAM;AAAE,IAAA,OAAF;AAAW,IAAA,4BAAX;AAAyC,IAAA,MAAzC;AAAiD,OAAG;AAApD,MAA6D,OAAnE;AACA,SAAO,oCAAoC,CACzC,OADyC,EAEzC,YAAY,CAAC;AACX,IAAA,MAAM,EAAE,KADG;AAEX,IAAA,eAAe,EAAE,4BAFN;AAGX,IAAA,MAHW;AAIX,OAAG;AAJQ,GAAD,CAF6B,CAA3C;AASD;;AAhBD,OAAA,CAAA,yCAAA,GAAA,yCAAA;;AAkBA,SAAgB,8CAAhB,GACqE;AAAA,MAAnE,OAAmE,uEAAF,EAAE;AAKnE,QAAM;AAAE,IAAA,OAAF;AAAW,IAAA,4BAAX;AAAyC,IAAA,MAAzC;AAAiD,IAAA,QAAjD;AAA2D,OAAG;AAA9D,MACJ,OADF;AAEA,SAAO,oCAAoC,CACzC,OADyC,EAEzC,YAAY,CAAC;AACX,IAAA,MAAM,EAAE,IADG;AAEX,IAAA,eAAe,EAAE,4BAFN;AAGX,IAAA,MAHW;AAIX,IAAA,QAJW;AAKX,OAAG;AALQ,GAAD,CAF6B,CAA3C;AAUD;;AAlBD,OAAA,CAAA,8CAAA,GAAA,8CAAA;;AA4BA,SAAS,YAAT,CAAsB,MAAtB,EAA+C;AAC7C,SAAO,IAAI,CAAC,SAAL,CAAe,kBAAkB,CAAC,IAAI,CAAC,SAAL,CAAe,MAAf,CAAD,CAAjC,CAAP;AACD;;AAGD,SAAS,oCAAT,CACE,YADF,EAEE,aAFF,EAEuB;AAErB,QAAM,OAAO,GAAG,YAAY,KAAA,IAAZ,IAAA,YAAY,KAAA,KAAA,CAAZ,GAAA,YAAA,GAAgB,SAAhC;AACA,SAAO;AACL,IAAA,iCAAiC,EAAE,KAD9B;;AAEL,UAAM,eAAN,GAAqB;AACnB,aAAO;AACL,cAAM,iBAAN,GAAuB;AACrB,gBAAM,IAAI,GAAG;;;;;;;uEAOgD,OAAO;;;;;;;;;;;;uEAYP,OAAO;;;;uEAIP,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;mCA8B3C,aAAa;4EAC4B,OAAO;;;AAGxE,WAzDD;AA0DA,iBAAO;AAAE,YAAA;AAAF,WAAP;AACD;;AA7DI,OAAP;AA+DD;;AAlEI,GAAP;AAoED","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ApolloServerPluginLandingPageProductionDefault = exports.ApolloServerPluginLandingPageLocalDefault = void 0;\nfunction ApolloServerPluginLandingPageLocalDefault(options = {}) {\n    const { version, __internal_apolloStudioEnv__, footer, ...rest } = options;\n    return ApolloServerPluginLandingPageDefault(version, encodeConfig({\n        isProd: false,\n        apolloStudioEnv: __internal_apolloStudioEnv__,\n        footer,\n        ...rest,\n    }));\n}\nexports.ApolloServerPluginLandingPageLocalDefault = ApolloServerPluginLandingPageLocalDefault;\nfunction ApolloServerPluginLandingPageProductionDefault(options = {}) {\n    const { version, __internal_apolloStudioEnv__, footer, graphRef, ...rest } = options;\n    return ApolloServerPluginLandingPageDefault(version, encodeConfig({\n        isProd: true,\n        apolloStudioEnv: __internal_apolloStudioEnv__,\n        footer,\n        graphRef,\n        ...rest,\n    }));\n}\nexports.ApolloServerPluginLandingPageProductionDefault = ApolloServerPluginLandingPageProductionDefault;\nfunction encodeConfig(config) {\n    return JSON.stringify(encodeURIComponent(JSON.stringify(config)));\n}\nfunction ApolloServerPluginLandingPageDefault(maybeVersion, encodedConfig) {\n    const version = maybeVersion !== null && maybeVersion !== void 0 ? maybeVersion : '_latest';\n    return {\n        __internal_installed_implicitly__: false,\n        async serverWillStart() {\n            return {\n                async renderLandingPage() {\n                    const html = `\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <link\n      rel=\"icon\"\n      href=\"https://apollo-server-landing-page.cdn.apollographql.com/${version}/assets/favicon.png\"\n    />\n    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" />\n    <link\n      href=\"https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap\"\n      rel=\"stylesheet\"\n    />\n    <meta name=\"theme-color\" content=\"#000000\" />\n    <meta name=\"description\" content=\"Apollo server landing page\" />\n    <link\n      rel=\"apple-touch-icon\"\n      href=\"https://apollo-server-landing-page.cdn.apollographql.com/${version}/assets/favicon.png\"\n    />\n    <link\n      rel=\"manifest\"\n      href=\"https://apollo-server-landing-page.cdn.apollographql.com/${version}/manifest.json\"\n    />\n    <title>Apollo Server</title>\n  </head>\n  <body style=\"margin: 0; overflow-x: hidden; overflow-y: hidden\">\n    <noscript>You need to enable JavaScript to run this app.</noscript>\n    <div id=\"react-root\">\n      <style>\n        .fallback {\n          opacity: 0;\n          animation: fadeIn 1s 1s;\n          animation-iteration-count: 1;\n          animation-fill-mode: forwards;\n          padding: 1em;\n        }\n        @keyframes fadeIn {\n          0% {opacity:0;}\n          100% {opacity:1; }\n        }\n      </style>\n      <div class=\"fallback\">\n        <h1>Welcome to Apollo Server</h1>\n        <p>It appears that you might be offline. POST to this endpoint to query your graph:</p>\n        <code style=\"white-space: pre;\">\ncurl --request POST \\\\\n  --header 'content-type: application/json' \\\\\n  --url '<script>document.write(window.location.href)</script>' \\\\\n  --data '{\"query\":\"query { __typename }\"}'</code>\n      </div>\n    </div>\n    <script>window.landingPage = ${encodedConfig};</script>\n    <script src=\"https://apollo-server-landing-page.cdn.apollographql.com/${version}/static/js/main.js\"></script>\n  </body>\n</html>\n          `;\n                    return { html };\n                },\n            };\n        },\n    };\n}\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}