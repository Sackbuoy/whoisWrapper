{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ApolloServerPluginDrainHttpServer = void 0;\n\nconst stoppable_1 = require(\"./stoppable\");\n\nfunction ApolloServerPluginDrainHttpServer(options) {\n  const stopper = new stoppable_1.Stopper(options.httpServer);\n  return {\n    async serverWillStart() {\n      return {\n        async drainServer() {\n          var _a;\n\n          await stopper.stop((_a = options.stopGracePeriodMillis) !== null && _a !== void 0 ? _a : 10000);\n        }\n\n      };\n    }\n\n  };\n}\n\nexports.ApolloServerPluginDrainHttpServer = ApolloServerPluginDrainHttpServer;","map":{"version":3,"sources":["../../../src/plugin/drainHttpServer/index.ts"],"names":[],"mappings":";;;;;;;AAEA,MAAA,WAAA,GAAA,OAAA,CAAA,aAAA,CAAA;;AAuBA,SAAgB,iCAAhB,CACE,OADF,EACmD;AAEjD,QAAM,OAAO,GAAG,IAAI,WAAA,CAAA,OAAJ,CAAY,OAAO,CAAC,UAApB,CAAhB;AACA,SAAO;AACL,UAAM,eAAN,GAAqB;AACnB,aAAO;AACL,cAAM,WAAN,GAAiB;;;AACf,gBAAM,OAAO,CAAC,IAAR,CAAa,CAAA,EAAA,GAAA,OAAO,CAAC,qBAAR,MAA6B,IAA7B,IAA6B,EAAA,KAAA,KAAA,CAA7B,GAA6B,EAA7B,GAAiC,KAA9C,CAAN;AACD;;AAHI,OAAP;AAKD;;AAPI,GAAP;AASD;;AAbD,OAAA,CAAA,iCAAA,GAAA,iCAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ApolloServerPluginDrainHttpServer = void 0;\nconst stoppable_1 = require(\"./stoppable\");\nfunction ApolloServerPluginDrainHttpServer(options) {\n    const stopper = new stoppable_1.Stopper(options.httpServer);\n    return {\n        async serverWillStart() {\n            return {\n                async drainServer() {\n                    var _a;\n                    await stopper.stop((_a = options.stopGracePeriodMillis) !== null && _a !== void 0 ? _a : 10000);\n                },\n            };\n        },\n    };\n}\nexports.ApolloServerPluginDrainHttpServer = ApolloServerPluginDrainHttpServer;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}